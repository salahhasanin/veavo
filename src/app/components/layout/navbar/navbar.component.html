<!-- first row -->
<div class="container-fluid firstrow">
  <nav class="navbar navbar-expand-md container navbar-light">
    <img class="logoImage" [routerLink]="['/home']" src="../../../../assets/navbar/veavoLogo.png" />

    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
      (click)="topToggleNavbar()"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div
      class="collapse navbar-collapse"
      [ngClass]="{ show: navbarOpen }"
      id="navbarNav"
    >
      <ul class="nav navbar-nav mx-auto">
        <li class="nav-item">
          <form [formGroup]="searchform" class="form-inline mainSearch">
            <div class="input-group">
              <div class="input-group-prepend" >
                <div class="input-group-text" (click)="searchCourse()">
                  <span class="fa fa-search form-control-feedback"></span>
                </div>
              </div>
              <input
                type="text"
                class="form-control"
                formControlName="searchInput"
                id="inlinesearchInput"
                placeholder="Search"
                style="width: 430px !important;"
              />
            </div>
          </form>
        </li>
      </ul>
      <ul class="nav navbar-nav ml-auto">
        <li class="nav-item">
          <div class="row">
            <div class="row" *ngIf="isLoggedIn; else logout">
              <div class="dropdown" >
                <button
                  class="btn loginbtn dropdown-toggle"
                  type="button"
                  id="dropdownMenuButton"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  <i class="far fa-user-circle"></i>
                  <span>LOGIN</span>
                </button>

                <div
                  class="dropdown-menu dropdown-menu-right"
                  aria-labelledby="dropdownMenuButton"
                >
                  <div class="towAuthButton">
                    <button
                      class="registerButton mr-3"
                      [ngClass]="{'active': register}"
                      (click)="registerFormShow()"
                    >
                      REGISTER
                    </button>
                    <button
                      class="loginButton "
                      [ngClass]="{'active': loginbtn}"
                      (click)="loginFormShow()"
                    >
                      LOGIN
                    </button>
                  </div>
                  <div *ngIf="register">
                    <form
                      [formGroup]="registerform"
                      (ngSubmit)="registerSubmit()"
                      class="mx-auto mt-2"
                    >
                      <div class="form-group col-11">
                        <label for="exampleInputEmail1">Email</label>
                        <input
                          type="email"
                          class="form-control"
                          formControlName="emailRegister"
                          [ngClass]="{
                            error:
                              submitted &&
                              registerform.controls.emailRegister.errors
                          }"
                          id="emailRegister"
                          aria-describedby="emailHelp"
                          placeholder="Enter email"
                        />
                        <small id="emailHelp" class="form-text text-muted"
                          >We'll never share your email with anyone else.</small
                        >
                        <div
                          *ngIf="
                            submitted ||
                            (registerform.get('emailRegister').invalid &&
                              (registerform.get('emailRegister').dirty ||
                                registerform.get('emailRegister').touched))
                          "
                          class="validall"
                        >
                          <div
                            class="validall"
                            *ngIf="
                              registerform.controls.emailRegister.errors
                                ?.required
                            "
                          >
                            <sup>*</sup>Please enter your email
                          </div>
                          <div
                            class="validall"
                            *ngIf="
                              registerform.controls.emailRegister.errors
                                ?.pattern
                            "
                          >
                            <sup>*</sup>Please enter valid email
                          </div>
                        </div>
                      </div>
                      <div class="form-group col-11">
                        <label
                          for="Password"
                          [ngClass]="{
                            error:
                              submitted &&
                              registerform.controls.passwordRegister.errors
                          }"
                          >Password</label
                        >
                        <input
                          type="password"
                          class="form-control"
                          formControlName="passwordRegister"
                          [ngClass]="{
                            error:
                              submitted &&
                              registerform.controls.passwordRegister.errors
                          }"
                          id="passwordRegister"
                          placeholder="Password"
                        />
                        <div
                          *ngIf="
                            submitted ||
                            (registerform.get('passwordRegister').invalid &&
                              (registerform.get('passwordRegister').dirty ||
                                registerform.get('passwordRegister').touched))
                          "
                          class="validall"
                        >
                          <div
                            class="validall"
                            *ngIf="
                              registerform.controls.passwordRegister.errors
                                ?.required
                            "
                          >
                            <sup>*</sup>Please enter your Password
                          </div>
                          <div
                            class="validall"
                            *ngIf="
                              registerform.controls.passwordRegister.errors
                                ?.pattern
                            "
                          >
                            <sup>*</sup>Please enter valid Password At least one
                            capital letter and one number
                          </div>
                          <div
                            class="validall"
                            *ngIf="
                              registerform.controls.passwordRegister.errors
                                ?.minLength
                            "
                          >
                            <sup>*</sup> Minimum length is 8
                          </div>
                          <div
                            class="validall"
                            *ngIf="
                              registerform.controls.passwordRegister.errors
                                ?.maxLength
                            "
                          >
                            <sup>*</sup> Maximum length is 11
                          </div>
                        </div>
                      </div>

                      <div class="form-group form-check ml-3 col-11">
                        <input
                          type="checkbox"
                          class="form-check-input"
                          id="exampleCheck1"
                        />
                        <label class="form-check-label" for="exampleCheck1"
                          >Remember Me</label
                        >
                      </div>
                      <div class="submitRegister mt-1">
                        <button type="submit" class="btn btn-primary">
                          Register
                        </button>
                      </div>
                    </form>

                    <div
                      class="my-2"
                      style="text-align: center; font-weight: bold;"
                    >
                      OR
                    </div>

                    <div class="" style="text-align: center;">
                      <!-- <button
                        class="FucebookButton mb-3"
                        (click)="signInWithFB()"
                      > -->
                      <button class="FucebookButton mb-3">
                        <i class="fab fa-facebook-f mr-2"><span class="ml-1">Register With Facebook</span></i>
                      </button>
                    </div>

                    <div class="mt-1" style="text-align: center;">
                      <!-- <button
                        class="GoogleButton mb-3"
                        (click)="signInWithGoogle()"
                      > -->
                      <button class="GoogleButton mb-3">
                        <i class="fab fa-google-plus-g mr-2"><span class="ml-1"> Register With Google</span></i>
                      </button>
                    </div>
                  </div>
                  <!--  -->
                  <!-- login form -->
                  <!--  -->
                  <div *ngIf="loginbtn">
                    <form
                      class="mx-auto mt-2"
                      [formGroup]="loginform"
                      (ngSubmit)="loginSubmit()"
                    >
                      <div class="form-group col-11">
                        <label for="exampleInputEmail1">Email</label>
                        <input
                          type="email"
                          class="form-control"
                          formControlName="emailLogin"
                          [ngClass]="{
                            error:
                              submittedLogin &&
                              loginform.controls.emailLogin.errors
                          }"
                          id="emailLogin"
                          aria-describedby="emailHelp"
                          placeholder="Enter email"
                        />
                        <small id="emailHelp" class="form-text text-muted"
                          >We'll never share your email with anyone else.</small
                        >
                        <div
                          *ngIf="
                            submittedLogin ||
                            (loginform.get('emailLogin').invalid &&
                              (loginform.get('emailLogin').dirty ||
                                loginform.get('emailLogin').touched))
                          "
                          class="validall"
                        >
                          <div
                            class="validall"
                            *ngIf="
                              loginform.controls.emailLogin.errors?.required
                            "
                          >
                            <sup>*</sup>Please enter your email
                          </div>
                          <div
                            class="validall"
                            *ngIf="
                              loginform.controls.emailLogin.errors?.pattern
                            "
                          >
                            <sup>*</sup>Please enter valid email
                          </div>
                        </div>
                      </div>

                      <div class="form-group col-11">
                        <label
                          for="Password"
                          [ngClass]="{
                            error:
                              submittedLogin &&
                              loginform.controls.passwordLogin.errors
                          }"
                          >Password</label
                        >
                        <input
                          type="password"
                          class="form-control"
                          formControlName="passwordLogin"
                          [ngClass]="{
                            error:
                              submittedLogin &&
                              loginform.controls.passwordLogin.errors
                          }"
                          id="passwordLogin"
                          placeholder="Password"
                        />
                        <div
                          *ngIf="
                            submittedLogin ||
                            (loginform.get('passwordLogin').invalid &&
                              (loginform.get('passwordLogin').dirty ||
                                loginform.get('passwordLogin').touched))
                          "
                          class="validall"
                        >
                          <div
                            class="validall"
                            *ngIf="
                              loginform.controls.passwordLogin.errors?.required
                            "
                          >
                            <sup>*</sup>Please enter your Password
                          </div>
                          <div
                            class="validall"
                            *ngIf="
                              loginform.controls.passwordLogin.errors?.pattern
                            "
                          >
                            <sup>*</sup>Please enter valid Password At least one
                            capital letter and one number
                          </div>
                          <div
                            class="validall"
                            *ngIf="
                              loginform.controls.passwordLogin.errors?.minLength
                            "
                          >
                            <sup>*</sup> Minimum length is 8
                          </div>
                          <div
                            class="validall"
                            *ngIf="
                              loginform.controls.passwordLogin.errors?.maxLength
                            "
                          >
                            <sup>*</sup> Maximum length is 11
                          </div>
                        </div>
                      </div>

                      <div class="form-group form-check ml-3">
                        <input
                          type="checkbox"
                          class="form-check-input"
                          id="exampleCheck1"
                        />
                        <label class="form-check-label" for="exampleCheck1"
                          >Remember Me</label
                        >
                      </div>
                      <div class="submitRegister">
                        <button type="submit" class="btn btn-primary">
                          Login
                        </button>
                      </div>
                    </form>

                    <div
                      class="my-2"
                      style="text-align: center; font-weight: bold;"
                    >
                      OR
                    </div>

                    <div class="" style="text-align: center;">
                      <!-- <button class="FucebookButton mb-3" (click)="signInWithFB()"> -->
                        <button class="FucebookButton mb-3">
                        <i class="fab fa-facebook-f mr-2"><span class="ml-1" > Login With Facebook</span></i>
                      </button>
                    </div>

                    <div class="mt-1" style="text-align: center;">
                      <!-- <button class="GoogleButton mb-3" (click)="signInWithGoogle()"> -->
                        <button class="GoogleButton mb-3">
                        <i class="fab fa-google-plus-g mr-2"><span class="ml-1">Login With Google</span></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <span class="mt-1">|</span>
              <button class="btn">
                <span class="mb-2">عربي</span>
              </button>
            </div>

            <ng-template #logout>
            <div class="followingInst" [routerLink]="['/following']">
              <img class="pr-3 pt-2"
              src="../../../../assets/navbar/icons8-add-user-male-50.png" alt="Following">
            </div>
              <span class="fa-stack fa-lg has-badge" 
              [attr.data-count]="userData?.favouriteCourses.length"
              [routerLink]="['/favourit']">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class='fas fa-heart full-heart fa-stack-1x fa-inverse' ></i>
              </span>
              <div class="dropdown">
                <button
                  class="btn  dropdown-toggle dropdownprofile"
                  type="button"
                  id="dropdownMenuButton"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  <div *ngIf="userData?.image.length; else iconImage">
                    <img
                      [src]="userData.image[0].url"
                      class="loggedUserImage"
                      [alt]="user"
                    />
                  </div>
                  <ng-template #iconImage>
                    <img
                      src="../../../../assets/navbar/user.png"
                      class="loggedUserImage"
                      [alt]="user"
                    />
                  </ng-template>
                </button>
                <div
                  class="dropdown-menu dropdown-menu-right"
                  aria-labelledby="dropdownMenuButton "
                >
                  <a class="dropdown-item" routerLink="/profile">Profile</a>
                  <button
                    class="btn dropdown-item logoutBtn"
                    type="button"
                    (click)="userLogout()"
                  >
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="ml-1">logout</span>
                  </button>
                </div>
              </div>
              
            </ng-template>
          </div>
        </li>
      </ul>
    </div>
  </nav>
</div>

<div class="container-fluid">
  <nav class="navbar navbar-expand-md container navbar-light">
    <!-- left -->
    <ul class="nav navbar-nav">
      <li class="nav-item">
        <div class="dropdown categoryDropdown show">
          <a
            class="btn dropdown-toggle"
            href="#"
            role="button"
            id="dropdownMenuLink"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <img src="../../../../assets/login/menu.svg" /> Categories
          </a>

          <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
              <div class="dropdown-item">
                <i class="fas fa-camera-retro mr-2"></i>
                <a class="categoryLink"
              [routerLink]="['/category/photography']"
              >Photography</a>
              </div>
              <div class="dropdown-item">
                <i class="fas fa-music mr-2"></i>
                <a class="categoryLink"
              [routerLink]="['/category/music']"
              >Music</a>
              </div>
              <div class="dropdown-item">
                <i class="fas fa-utensils mr-2"></i>
                <a class="categoryLink"
              [routerLink]="['/category/cooking']"
              >Cooking</a>
              </div>
              <div class="dropdown-item">
                <i class="fas fa-laptop-code mr-2"></i>
                <a class="categoryLink"
              [routerLink]="['/category/it & software']"
              >Development</a>
              </div>
              <div class="dropdown-item">
                <i class="fas fa-theater-masks mr-2"></i>
                <a class="categoryLink"
              [routerLink]="['/category/art']"
              >Art</a>
              </div>
              <div class="dropdown-item">
                <i class="fas fa-palette mr-2"></i>
                <a class="categoryLink"
              [routerLink]="['/category/drawing']"
              >Drawing</a>
              </div>
              <div class="dropdown-item">
                <i class="fas fa-puzzle-piece mr-2"></i>
                <a class="categoryLink"
              [routerLink]="['/category/other']"
              >Other</a>
              </div>
          </div>
        </div>

      </li>
    </ul>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
      (click)="bottomToggleNavbar()"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div
      class="collapse navbar-collapse"
      [ngClass]="{ show: navbarOpen }"
      id="navbarNav"
    >
      <!-- center -->
      <ul class="nav navbar-nav mx-auto secondRowUL">
        <li class="nav-item active mr-4">
          <a class="nav-link" href="#"
            >Home
            <span class="sr-only">(current)</span>
          </a>
        </li>
        <li class="nav-item mr-4">
          <a class="nav-link" href="#">AboutUS</a>
        </li>
        <li class="nav-item mr-4">
          <a class="nav-link" href="#">Top Charts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/contact">Contact</a>
        </li>
      </ul>
      <!-- right -->
      <ul class="nav navbar-nav ml-auto">
        <li class="nav-item">
          <button class="instuctorbuttton" (click)="instructorLink()">
            Be An Instructure
          </button>
        </li>
      </ul>
    </div>
  </nav>
</div>
